[gd_scene load_steps=19 format=3 uid="uid://bcjcxpy5noqj8"]

[ext_resource type="Material" uid="uid://d6qhgh84hwou" path="res://resource/shader/tilt_shift.tres" id="1_0e1eo"]
[ext_resource type="Texture2D" uid="uid://dehg38xt8tidn" path="res://resource/image/car.png" id="1_h1shc"]
[ext_resource type="FontFile" uid="uid://dwo3w3m0bti6d" path="res://resource/font/YouSheBiaoTiHei.ttf" id="3_op80d"]
[ext_resource type="Texture2D" uid="uid://dgq6snhbt4tfy" path="res://resource/ui/esc_sprite.png" id="4_grjf5"]
[ext_resource type="FontFile" uid="uid://ckmyjvou4nb1f" path="res://resource/font/kenney_pixel.ttf" id="4_j3ouc"]
[ext_resource type="Texture2D" uid="uid://d4fpxy7ab8r70" path="res://resource/image/gun.png" id="6_0naur"]

[sub_resource type="GDScript" id="GDScript_k02s4"]
script/source = "
extends Control

@onready var car_page = $Car
@onready var weapon_page = $Weapon

func _ready():
	car_page.visible = true
	weapon_page.visible = false

func _process(delta):
	if Input.is_action_just_pressed('esc'):
		visible = false
		get_tree().paused = false


func _on_car_page_button_pressed():
	car_page.visible = false
	weapon_page.visible = true

func _on_weapon_page_button_pressed():
	car_page.visible = true
	weapon_page.visible = false
"

[sub_resource type="GDScript" id="GDScript_lmiis"]
script/source = "
extends Sprite2D

@onready var animation = $AnimationPlayer

func _ready():
	animation.play('animation')
"

[sub_resource type="Animation" id="Animation_04iwo"]
resource_name = "animation"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0, 1, 1, 0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_fbyul"]
_data = {
"animation": SubResource("Animation_04iwo")
}

[sub_resource type="GDScript" id="GDScript_w2esl"]
script/source = "
extends Label

func _ready():
	pass

func _physics_process(delta):
	var viewport_size = get_viewport_rect().size
	var logo_size = get_rect().size
	position.x = viewport_size.x/2 - logo_size.x/2
	position.y = logo_size.y/2
"

[sub_resource type="GDScript" id="GDScript_fm75v"]
script/source = "
extends Sprite2D

func _physics_process(delta):
	var viewport_size = get_viewport_rect().size
	var logo_size = get_rect().size
	position.x = viewport_size.x/2 - logo_size.x/2
	position.y = viewport_size.y/2 - logo_size.y/2
"

[sub_resource type="GDScript" id="GDScript_r8yxv"]
script/source = "
extends Control

@onready var slider = $HSlider

@onready var value = $Value

func _ready():
	pass

func _process(delta):
	value.text = str(slider.value)
"

[sub_resource type="GDScript" id="GDScript_ug8ic"]
script/source = "
extends Control

@onready var slider = $HSlider

@onready var value = $Value

func _ready():
	pass

func _process(delta):
	value.text = str(slider.value)
"

[sub_resource type="GDScript" id="GDScript_swuq2"]
script/source = "
extends Button

func _ready():
	pass

func _physics_process(delta):
	size = Vector2(70,200)
	var viewport_size = get_viewport_rect().size
	var logo_size = get_rect().size
	position.x = viewport_size.x - logo_size.x
	position.y = viewport_size.y/2 - logo_size.y/2
	
	
"

[sub_resource type="GDScript" id="GDScript_kcf7n"]
script/source = "
extends Label

func _ready():
	pass

func _physics_process(delta):
	var viewport_size = get_viewport_rect().size
	var logo_size = get_rect().size
	position.x = viewport_size.x/2 - logo_size.x/2
	position.y = logo_size.y/2
	
"

[sub_resource type="GDScript" id="GDScript_kddkh"]
script/source = "
extends Sprite2D

func _physics_process(delta):
	var viewport_size = get_viewport_rect().size
	var logo_size = get_rect().size
	position.x = viewport_size.x/2 - logo_size.x/2
	position.y = viewport_size.y/2 - logo_size.y/2
"

[sub_resource type="GDScript" id="GDScript_otk85"]
script/source = "
extends Button

func _ready():
	pass

func _physics_process(delta):
	size = Vector2(70,200)
	var viewport_size = get_viewport_rect().size
	var logo_size = get_rect().size
	position.x = 0
	position.y = viewport_size.y/2 - logo_size.y/2
	
	
"

[node name="Upgrades" type="Control"]
process_mode = 2
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_k02s4")

[node name="ColorRect2" type="ColorRect" parent="."]
layout_mode = 0
offset_left = -1065.0
offset_top = -731.0
offset_right = 2325.0
offset_bottom = 1513.0
color = Color(0, 0, 0, 0.501961)

[node name="ColorRect" type="ColorRect" parent="."]
texture_filter = 1
material = ExtResource("1_0e1eo")
layout_mode = 0
offset_left = -21.0
offset_top = -16.0
offset_right = 1301.0
offset_bottom = 738.0

[node name="Esc" type="HBoxContainer" parent="."]
layout_mode = 0
offset_left = 564.0
offset_top = 645.0
offset_right = 727.0
offset_bottom = 690.0

[node name="Label" type="Label" parent="Esc"]
texture_filter = 1
layout_mode = 2
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 32
text = "按    继续"

[node name="Sprite2D" type="Sprite2D" parent="Esc"]
texture_filter = 1
position = Vector2(67, 21)
scale = Vector2(3, 3)
texture = ExtResource("4_grjf5")
hframes = 2
script = SubResource("GDScript_lmiis")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Esc/Sprite2D"]
libraries = {
"": SubResource("AnimationLibrary_fbyul")
}

[node name="Car" type="Control" parent="."]
visible = false
anchors_preset = 0

[node name="Title" type="Label" parent="Car"]
layout_mode = 2
offset_left = 441.0
offset_top = 20.0
offset_right = 863.0
offset_bottom = 107.0
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 64
text = "汽车改装车间
"
script = SubResource("GDScript_w2esl")

[node name="Car" type="Sprite2D" parent="Car"]
texture_filter = 1
position = Vector2(605, 327)
rotation = 1.5708
scale = Vector2(16, 16)
texture = ExtResource("1_h1shc")
script = SubResource("GDScript_fm75v")

[node name="EnginePower" type="VBoxContainer" parent="Car"]
layout_mode = 2
offset_left = 804.0
offset_top = 292.0
offset_right = 1104.0
offset_bottom = 400.0
script = SubResource("GDScript_r8yxv")

[node name="Label" type="Label" parent="Car/EnginePower"]
texture_filter = 1
layout_mode = 2
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 32
text = "引擎升级"

[node name="HSlider" type="HSlider" parent="Car/EnginePower"]
layout_mode = 2
min_value = 500.0
max_value = 1200.0
value = 700.0

[node name="Value" type="Label" parent="Car/EnginePower"]
layout_mode = 2
theme_override_fonts/font = ExtResource("4_j3ouc")
theme_override_font_sizes/font_size = 48
text = "0"

[node name="SteeringAngle" type="VBoxContainer" parent="Car"]
texture_filter = 1
layout_mode = 2
offset_left = 670.0
offset_top = 475.0
offset_right = 970.0
offset_bottom = 583.0
script = SubResource("GDScript_ug8ic")

[node name="Label" type="Label" parent="Car/SteeringAngle"]
texture_filter = 1
layout_mode = 2
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 32
text = "转向机升级"

[node name="HSlider" type="HSlider" parent="Car/SteeringAngle"]
layout_mode = 2
min_value = 0.1
max_value = 0.3
step = 0.01
value = 0.2

[node name="Value" type="Label" parent="Car/SteeringAngle"]
layout_mode = 2
theme_override_fonts/font = ExtResource("4_j3ouc")
theme_override_font_sizes/font_size = 48
text = "0"

[node name="Button4" type="Button" parent="Car"]
layout_mode = 2
offset_left = 153.0
offset_top = 260.0
offset_right = 397.0
offset_bottom = 398.0
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 64
disabled = true
text = "氮气升级"
flat = true

[node name="Button5" type="Button" parent="Car"]
layout_mode = 2
offset_left = 726.0
offset_top = 115.0
offset_right = 1135.0
offset_bottom = 277.0
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 64
disabled = true
text = "保护杠升级"
flat = true

[node name="Button6" type="Button" parent="Car"]
layout_mode = 2
offset_left = 213.0
offset_top = 446.0
offset_right = 537.0
offset_bottom = 632.0
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 64
disabled = true
text = "轮胎升级"
flat = true

[node name="Button" type="Button" parent="Car"]
layout_mode = 2
offset_left = 1206.0
offset_top = 271.0
offset_right = 1276.0
offset_bottom = 471.0
text = ">"
script = SubResource("GDScript_swuq2")

[node name="Weapon" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Title" type="Label" parent="Weapon"]
layout_mode = 0
offset_left = 457.0
offset_top = 58.0
offset_right = 811.0
offset_bottom = 145.0
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 64
text = "武器改装车间
"
script = SubResource("GDScript_kcf7n")

[node name="Weapon" type="Sprite2D" parent="Weapon"]
texture_filter = 1
position = Vector2(565, 376)
scale = Vector2(16, 16)
texture = ExtResource("6_0naur")
script = SubResource("GDScript_kddkh")

[node name="Speed" type="VBoxContainer" parent="Weapon"]
layout_mode = 0
offset_left = 918.0
offset_top = 317.0
offset_right = 1153.0
offset_bottom = 443.0

[node name="HBoxContainer" type="HBoxContainer" parent="Weapon/Speed"]
layout_mode = 2

[node name="Label" type="Label" parent="Weapon/Speed/HBoxContainer"]
texture_filter = 1
layout_mode = 2
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 32
text = "等级 "

[node name="Value" type="Label" parent="Weapon/Speed/HBoxContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("4_j3ouc")
theme_override_font_sizes/font_size = 64
text = "1"

[node name="Label2" type="Label" parent="Weapon/Speed/HBoxContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("4_j3ouc")
theme_override_font_sizes/font_size = 64
text = "/5"

[node name="Up" type="Button" parent="Weapon/Speed"]
texture_filter = 1
layout_mode = 2
theme_override_fonts/font = ExtResource("3_op80d")
theme_override_font_sizes/font_size = 48
text = "100 升级"

[node name="Button" type="Button" parent="Weapon"]
layout_mode = 0
offset_left = 4.0
offset_top = 250.0
offset_right = 74.0
offset_bottom = 450.0
text = "<"
script = SubResource("GDScript_otk85")

[connection signal="pressed" from="Car/Button" to="." method="_on_car_page_button_pressed"]
[connection signal="pressed" from="Weapon/Button" to="." method="_on_weapon_page_button_pressed"]
